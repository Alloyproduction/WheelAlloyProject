<?xml version="1.0"?>
<odoo>
    <data>

        <menuitem id="menu_config_claim" name="Claim"
                  parent="sales_team.menu_sale_config"/><!--groups="base.group_no_one"-->

        <menuitem id="menu_services" name="Services"
                  parent="main_crm_claim_menu" sequence="2"/>

         <menuitem id="menu_customer" name="Customer"
                action="base.action_partner_form"  parent="main_crm_claim_menu" sequence="3"/>

        <!-- Claims categories  -->


        <record id="crm_claim_category_form" model="ir.ui.view">
            <field name="name">crm.claim.category.form</field>
            <field name="model">crm.claim.category</field>
            <field name="arch" type="xml">
                <form string="Claim Categories">
                    <group>
                        <field name="name"/>
                        <field name="team_id"/>
                        <field name="type_action"/>
                        <field name="resolution"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="crm_claim_category_tree" model="ir.ui.view">
            <field name="name">crm.claim.category.tree</field>
            <field name="model">crm.claim.category</field>
            <field name="arch" type="xml">
                <tree string="Claim Categories">
                    <field name="name"/>
                    <field name="team_id"/>
                    <field name="type_action"/>
                    <field name="resolution"/>
                </tree>
            </field>
        </record>

        <record id="crm_claim_categ_action" model="ir.actions.act_window">
            <field name="name">Claim Categories</field>
            <field name="res_model">crm.claim.category</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="crm_claim_category_tree"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a claim category.
                </p>
                <p>
                    Create claim categories to better manage and classify your
                    claims. Some example of claims can be: preventive action,
                    corrective action.
                </p>
            </field>
        </record>

        <menuitem action="crm_claim_categ_action" name="Categories"
                  id="menu_crm_case_claim-act" parent="menu_config_claim"/>

        <!-- Claim Stages -->

        <!--        <record id="crm_claim_stage_tree" model="ir.ui.view">-->
        <!--            <field name="name">crm.claim.stage.tree</field>-->
        <!--            <field name="model">crm.claim.stage</field>-->
        <!--            <field name="arch" type="xml">-->
        <!--                <tree string="Claim Stages">-->
        <!--                    <field name="sequence"/>-->
        <!--                    <field name="name"/>-->
        <!--                </tree>-->
        <!--            </field>-->
        <!--        </record>-->

        <!--        <record id="crm_claim_stage_form" model="ir.ui.view">-->
        <!--            <field name="name">crm.claim.stage.form</field>-->
        <!--            <field name="model">crm.claim.stage</field>-->
        <!--            <field name="arch" type="xml">-->
        <!--                <form string="Claim Stage">-->
        <!--                    <group col="4">-->
        <!--                        <field name="name"/>-->
        <!--                        <field name="case_default"/>-->
        <!--                        <field name="sequence"/>-->
        <!--                    </group>-->
        <!--                </form>-->
        <!--            </field>-->
        <!--        </record>-->

        <!--        <record id="crm_claim_stage_act" model="ir.actions.act_window">-->
        <!--            <field name="name">Claim Stages</field>-->
        <!--            <field name="res_model">crm.claim.stage</field>-->
        <!--            <field name="view_type">form</field>-->
        <!--            <field name="view_id" ref="crm_claim_stage_tree"/>-->
        <!--            <field name="help" type="html">-->
        <!--              <p class="oe_view_nocontent_create">-->
        <!--                Click to setup a new stage in the processing of the claims. -->
        <!--              </p><p>-->
        <!--                You can create claim stages to categorize the status of every-->
        <!--                claim entered in the system. The stages define all the steps-->
        <!--                required for the resolution of a claim.-->
        <!--              </p>-->
        <!--            </field>-->
        <!--        </record>-->

        <!-- Claims    -->

        <record model="ir.ui.view" id="crm_case_claims_tree_view">
            <field name="name">CRM - Claims Tree</field>
            <field name="model">crm.claim</field>
            <field name="arch" type="xml">
                <tree string="Claims">
                    <field name="code"/>
                    <field name="subject_id"/>
                    <field name="partner_id"/>
                    <field name="user_id"/>
                    <field name="date"/>
                    <!--                    <field name="stage_id"/>-->
                    <field name="state"/>
                    <field name="date_action_next"/>
                    <field name="action_next"/>
                    <field name="categ_id" string="Type"/>
                    <field name="date_deadline" invisible="1"/>
                    <field name="date_closed" invisible="1"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="crm_case_claims_form_view">
            <field name="name">CRM - Claims Form</field>
            <field name="model">crm.claim</field>
            <field name="arch" type="xml">
                <form string="Claim">
                    <header>
                        <!--                    <field name="stage_id" widget="statusbar" clickable="True"/>-->

                        <button name="action_draft" type="object"
                                string="Reset to draft"
                                states="confirmed,done"
                                groups="bi_crm_claim.group_manager"
                        />
                        <button name="action_confirm" type="object"
                                string="Confirm" states="draft"
                                class="oe_highlight"
                                groups="bi_crm_claim.group_confirm"

                        />
                        <button name="action_process" type="object"
                                string="Mark as done" states="confirmed"
                                class="oe_highlight"
                                groups="bi_crm_claim.group_manager"

                        />
                        <button name="action_won" type="object"
                                string="Confirm" states="draft"
                                class="oe_highlight"
                                groups="bi_crm_claim.group_manager"
                        />

                        <button name="action_lost" type="object"
                                string="Mark as done" states="confirmed"
                                class="oe_highlight"
                                groups="bi_crm_claim.group_manager"
                        />

                        <button name="choose" type="object"
                                string="Send to salesman"
                                states="confirmed,done"
                                class="oe_highlight"
                        />


                    </header>



                    <sheet string="Claims">
                        <group>
                            <div class="oe_title">
                                <h1>
                                    <field name="code" readonly="1"/>
                                </h1>
                            </div>
                        </group>

                         <sheet string="First Action">
                        <group colspan="2" col="2" groups="base.group_user">
                            <separator colspan="2" string="Customer Details"/>
                            <field name="partner_id"/>
                            <field name="partner_phone"/>
                            <field name="email_from" widget="email"/>
                            <field name="sale_id"/>

                            <!--                                     <field name="stage_id"/>-->
<!--                        </group>-->
<!--                        <group>-->
                            <field name="subject_id"/>
                            <field name="date"/>
<!--                            <field name="priority" widget="priority"/>-->
                            <field name="date_deadline"/>

                            <!--                        <field name="ldate"/>-->
                        </group>
                        <!--                    <group colspan="4" col="4" groups="base.group_user">-->
                        <!--&lt;!&ndash;                        <field name="user_id"&ndash;&gt;-->
                        <!--&lt;!&ndash;                               context="{'default_groups_ref': ['base.group_user', 'base.group_partner_manager']}"/>&ndash;&gt;-->
                        <!--                        -->
                        <!--&lt;!&ndash;                        <field name="team_id"/>&ndash;&gt;-->
                        <!--                    </group>-->
<!--                        <group colspan="4" col="4">-->
<!--                            <notebook>-->
<!--                                <page string="Claim Description">-->

                                    <group colspan="2" col="2" groups="base.group_user">
                                        <separator colspan="2" string="AWRS Representative Assigned to this Case"/>
                                        <!--                                    <field name="user_fault"/>-->
                                        <!--                                    <field name="categ_id" options="{'no_create': True, 'no_open': True}"/>-->
                                        <!--<field name="ref"/>-->
                                        <field name="user_id"/>
                                        <field name="team_id"/>
                                    </group>

                               </sheet>

<!--                                    <separator colspan="4" string="Claim/Action Description"/>-->
                        <sheet string="Second Action">
                                    <field name="description" colspan="4" nolabel="1"/>

                                    <group colspan="2" col="2">
                                        <separator colspan="2" string="Actions"/>
                                        <field name="date_action_next"/>
                                        <field name="action_next"/>
                                    </group>

                            </sheet>
<!--                                    <group colspan="2" col="2">-->
<!--                                        <separator colspan="2" string="Dates"/>-->
<!--                                        &lt;!&ndash;                                    <field name="create_date"/>&ndash;&gt;-->
<!--                                        &lt;!&ndash;                                    <field name="date_closed" invisible="1"/>&ndash;&gt;-->
<!--                                        &lt;!&ndash;                                    <field name="write_date"/>&ndash;&gt;-->
<!--                                    </group>-->
                        <sheet string="Final Action">
                            <group colspan="2" col="2">
                                <separator colspan="2" string="Root Causes"/>
                                <field name="cause" colspan="2" nolabel="1"/>
                            </group>
                            <group colspan="2" col="2">
                                <separator colspan="2" string="Resolution Actions"/>
                                <field name="type_action"/>
                                <!--                                    <field name="resolution"/>-->
                                <field name="addition_deit"/>


                                <!--                                    <field name="addition_deit" colspan="2" nolabel="1"-->
                                <!--                                           placeholder="Additional details..."/>-->
                            </group>
                        </sheet>
                        <!--                                </page>-->
<!--                                <page string="Follow Up" groups="base.group_user">-->
<!--                                    <group colspan="2" col="2">-->
<!--                                        <separator colspan="2" string="Actions"/>-->
<!--                                        <field name="date_action_next"/>-->
<!--                                        <field name="action_next"/>-->
<!--                                    </group>-->
<!--                                    <group colspan="2" col="2">-->
<!--                                        <separator colspan="2" string="Dates"/>-->
<!--                                        &lt;!&ndash;                                    <field name="create_date"/>&ndash;&gt;-->
<!--                                        &lt;!&ndash;                                    <field name="date_closed" invisible="1"/>&ndash;&gt;-->
<!--                                        &lt;!&ndash;                                    <field name="write_date"/>&ndash;&gt;-->
<!--                                    </group>-->

<!--                                    <group colspan="2" col="2">-->
<!--                                        <separator colspan="2" string="Root Causes"/>-->
<!--                                        <field name="cause" colspan="2" nolabel="1"/>-->
<!--                                    </group>-->
<!--                                    <group colspan="2" col="2">-->
<!--                                        <separator colspan="2" string="Resolution Actions"/>-->
<!--                                        <field name="type_action"/>-->
<!--                                        &lt;!&ndash;                                    <field name="resolution"/>&ndash;&gt;-->
<!--                                        <field name="addition_deit"/>-->


<!--                                        &lt;!&ndash;                                    <field name="addition_deit" colspan="2" nolabel="1"&ndash;&gt;-->
<!--                                        &lt;!&ndash;                                           placeholder="Additional details..."/>&ndash;&gt;-->
<!--                                    </group>-->
<!--                                </page>-->
<!--                            </notebook>-->
<!--                        </group>-->
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <!-- Claim Calendar view -->

        <!--        <record model="ir.ui.view" id="crm_case_claims_calendar_view">-->
        <!--            <field name="name">Claims Actions</field>-->
        <!--            <field name="model">crm.claim</field>-->
        <!--            <field name="priority" eval="2"/>-->
        <!--            <field name="arch" type="xml">-->
        <!--                <calendar string="Claims" date_start="date_action_next" color="user_id">-->
        <!--                    <field name="name"/>-->
        <!--                </calendar>-->
        <!--            </field>-->
        <!--        </record>-->


        <!--        &lt;!&ndash; Crm claim Search view -->

        <!--    <record id="view_crm_case_claims_filter" model="ir.ui.view">-->
        <!--            <field name="name">CRM - Claims Search</field>-->
        <!--            <field name="model">crm.claim</field>-->
        <!--            <field name="arch" type="xml">-->
        <!--                <search string="Search Claims">-->
        <!--                    <field name="name" string="Claims"/>-->
        <!--                    <separator/>-->
        <!--                    <filter string="Unassigned Claims" domain="[('user_id','=', False)]" help="Unassigned Claims" />-->
        <!--                    <field name="partner_id" filter_domain="[('partner_id','child_of',self)]"/>-->
        <!--                    <field name="user_id"/>-->
        <!--                    <group expand="0" string="Group By">-->
        <!--                        <filter string="Partner" domain="[]" help="Partner" context="{'group_by':'partner_id'}"/>-->
        <!--                        <filter string="Responsible" domain="[]" help="Responsible User" context="{'group_by':'user_id'}"/>-->
        <!--                        <filter string="Stage" domain="[]" context="{'group_by':'stage_id'}"/>-->
        <!--                        <filter string="Type" domain="[]" context="{'group_by':'categ_id'}"/>-->
        <!--                        <filter string="Claim Month" domain="[]" help="Claim Date by Month" context="{'group_by':'date'}"/>-->
        <!--                        <filter string="Deadline" domain="[]" context="{'group_by':'date_deadline'}"/>-->
        <!--                        <filter string="Closure" domain="[]" help="Date Closed" context="{'group_by':'date_closed'}"  groups="base.group_no_one" invisible="1"/>-->
        <!--                    </group>-->
        <!--                </search>-->
        <!--            </field>-->
        <!--        </record>-->


        <!--     <record model="ir.ui.view" id="claims_action_form">-->
        <!--            <field name="name">Claims Action</field>-->
        <!--            <field name="model">action.claim</field>-->
        <!--            <field name="arch" type="xml">-->
        <!--                <form string="Claim Action">-->
        <!--                    <field name="type_action"/>-->
        <!--                    <field name="resolution"/>-->

        <!--                </form>-->
        <!--            </field>-->
        <!--        </record>-->

        <!--        <record model="ir.actions.act_window" id="action_claim_action">-->
        <!--            <field name="name">Action Type</field>-->
        <!--            <field name="res_model">action.claim</field>-->
        <!--            <field name="view_type">form</field>-->
        <!--            <field name="view_mode">tree,form</field>-->
        <!--        </record>-->

        <!--        <menuitem id="menu_claim_action" name="Action Type"-->
        <!--                  parent="main_crm_claim_menu"-->
        <!--                  action="action_claim_action"/>-->


        <record id="crm_claim_subject_form" model="ir.ui.view">
            <field name="name">crm.claim.subject.form</field>
            <field name="model">crm.claim.subject</field>
            <field name="arch" type="xml">
                <form string="Claim Subject">
                    <group>
                        <field name="subject_id"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="crm_claim_subject_tree" model="ir.ui.view">
            <field name="name">crm.claim.subject.tree</field>
            <field name="model">crm.claim.subject</field>
            <field name="arch" type="xml">
                <tree string="Claim Subject">
                    <field name="subject_id"/>
                </tree>
            </field>
        </record>

        <record id="crm_claim_subject_action" model="ir.actions.act_window">
            <field name="name">Claim Subject</field>
            <field name="res_model">crm.claim.subject</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="crm_claim_subject_tree"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a claim subject.
                </p>
                <p>
                    Create claim subject to better manage and classify your
                    claims. Some example of claims can be: preventive action,
                    corrective action.
                </p>
            </field>
        </record>

        <menuitem action="crm_claim_subject_action" name="Subject"
                  id="menu_claim-subject" parent="main_crm_claim_menu"/>
    </data>
</odoo>
